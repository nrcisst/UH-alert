{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/binivm/Projects/Mini-Projects/UH-Bot/uh-class-alert/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\nimport { PrismaNeon } from '@prisma/adapter-neon';\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClient | undefined;\n};\n\nfunction createPrismaClient(): PrismaClient {\n    const connectionString = process.env.DATABASE_URL!;\n    const adapter = new PrismaNeon({ connectionString });\n\n    return new PrismaClient({ adapter });\n}\n\nexport const prisma = globalForPrisma.prisma ?? createPrismaClient();\n\nif (process.env.NODE_ENV !== 'production') {\n    globalForPrisma.prisma = prisma;\n}\n\nexport default prisma;\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,kBAAkB;AAIxB,SAAS;IACL,MAAM,mBAAmB,QAAQ,GAAG,CAAC,YAAY;IACjD,MAAM,UAAU,IAAI,6KAAU,CAAC;QAAE;IAAiB;IAElD,OAAO,IAAI,sMAAY,CAAC;QAAE;IAAQ;AACtC;AAEO,MAAM,SAAS,gBAAgB,MAAM,IAAI;AAEhD,wCAA2C;IACvC,gBAAgB,MAAM,GAAG;AAC7B;uCAEe"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/binivm/Projects/Mini-Projects/UH-Bot/uh-class-alert/src/app/api/classes/cached-sections/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport prisma from '@/lib/db';\n\n// GET /api/classes/cached-sections - Get cached sections for a class (no live fetch)\nexport async function GET(request: NextRequest) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const subject = searchParams.get('subject');\n        const catalogNbr = searchParams.get('catalogNbr');\n\n        if (!subject || !catalogNbr) {\n            return NextResponse.json(\n                { error: 'Subject and catalogNbr are required' },\n                { status: 400 }\n            );\n        }\n\n        const sections = await prisma.sectionCache.findMany({\n            where: {\n                subject: subject.toUpperCase(),\n                catalogNbr: catalogNbr,\n            },\n            orderBy: { section: 'asc' },\n        });\n\n        return NextResponse.json({\n            sections: sections.map(s => ({\n                classNbr: s.classNbr,\n                section: s.section,\n                instructor: s.instructor,\n                schedule: s.schedule,\n                location: s.location,\n                isOpen: s.isOpen,\n                seatsAvailable: s.seatsAvailable,\n                enrollmentCap: s.enrollmentCap,\n                enrollmentTotal: s.enrollmentTotal,\n                lastChecked: s.lastChecked,\n            })),\n            total: sections.length,\n            fromCache: true,\n        });\n    } catch (error) {\n        console.error('Cached sections fetch error:', error);\n        return NextResponse.json(\n            { error: 'Failed to fetch cached sections' },\n            { status: 500 }\n        );\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,eAAe,IAAI,OAAoB;IAC1C,IAAI;QACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,UAAU,aAAa,GAAG,CAAC;QACjC,MAAM,aAAa,aAAa,GAAG,CAAC;QAEpC,IAAI,CAAC,WAAW,CAAC,YAAY;YACzB,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAsC,GAC/C;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,WAAW,MAAM,6HAAM,CAAC,YAAY,CAAC,QAAQ,CAAC;YAChD,OAAO;gBACH,SAAS,QAAQ,WAAW;gBAC5B,YAAY;YAChB;YACA,SAAS;gBAAE,SAAS;YAAM;QAC9B;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,UAAU,SAAS,GAAG,CAAC,CAAA,IAAK,CAAC;oBACzB,UAAU,EAAE,QAAQ;oBACpB,SAAS,EAAE,OAAO;oBAClB,YAAY,EAAE,UAAU;oBACxB,UAAU,EAAE,QAAQ;oBACpB,UAAU,EAAE,QAAQ;oBACpB,QAAQ,EAAE,MAAM;oBAChB,gBAAgB,EAAE,cAAc;oBAChC,eAAe,EAAE,aAAa;oBAC9B,iBAAiB,EAAE,eAAe;oBAClC,aAAa,EAAE,WAAW;gBAC9B,CAAC;YACD,OAAO,SAAS,MAAM;YACtB,WAAW;QACf;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAkC,GAC3C;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}